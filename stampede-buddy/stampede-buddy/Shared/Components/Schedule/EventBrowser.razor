@inject HttpClient Http
<div class="events-main-content">

    <div id="events-container" class="container-fluid">

        <BackButton  Title="Browse Events"/>


        <div id=" filter-panel" class="mb-2 row">
            <div class="col-3 text-center bg-primary text-white">All</div>
            <div class="col-3 text-center bg-secondary text-white">Rides</div>
            <div class="col-3 text-center bg-secondary text-white">Food</div>
            <div class="col-3 text-center bg-secondary text-white">Events</div>
        </div>

        <div id="events-list" class="d-grid gap-3">


            @if (availableEvents != null)
            {
                @foreach (var e in availableEvents)
                {
                    <EventBrowserEventCard Event="@e" />
                }
            } else
            {
                <div class="event-card">
                    <img class="event-card-img"
                     src="https://www.theex.com/wp-content/uploads/2022/05/SuperDogs.png" alt="Snow"
                     style="width:100%; height: 160px;">
                    <div class="dim flex">
                        <div class="card-content">
                            <h2>Superdogs</h2>
                            <div>A dogshow unlike any other!</div>
                            <div>BMO Centre at 1:00pm, 3:00pm, 7:00pm</div>
                            <div class="d-grid gap-2 mt-2">
                                <button class="btn btn-primary" type="button">Add to Favourites</button>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="event-card">
                    <img class="event-card-img"
                     src="https://www.theex.com/wp-content/uploads/2022/05/SuperDogs.png" alt="Snow"
                     style="width:100%; height: 160px;">
                    <div class="dim flex">
                        <div class="card-content">
                            <h2>Superdogs</h2>
                            <div>A dogshow unlike any other!</div>
                            <div>BMO Centre at 1:00pm, 3:00pm, 7:00pm</div>
                            <div class="d-grid gap-2 mt-2">
                                <button class="btn btn-primary" type="button">Add to Favourites</button>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="event-card">
                    <img class="event-card-img"
                     src="https://www.theex.com/wp-content/uploads/2022/05/SuperDogs.png" alt="Snow"
                     style="width:100%; height: 160px;">
                    <div class="dim flex">
                        <div class="card-content">
                            <h2>Superdogs</h2>
                            <div>A dogshow unlike any other!</div>
                            <div>BMO Centre at 1:00pm, 3:00pm, 7:00pm</div>
                            <div class="d-grid gap-2 mt-2">
                                <button class="btn btn-primary" type="button">Add to Favourites</button>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="event-card">
                    <h2>Sample Event</h2>
                    <div>Tagline for the event.</div>
                    <div>Location at 1:00pm</div>
                    <div class="d-grid gap-2 my-2">
                        <button class="btn btn-primary" type="button">Add to Favourites</button>
                    </div>
                </div>

                <div class="event-card">
                    <h2>Sample Event</h2>
                    <div>Tagline for the event.</div>
                    <div>Location at 1:00pm</div>
                    <div class="d-grid gap-2 my-2">
                        <button class="btn btn-primary" type="button">Add to Favourites</button>
                    </div>
                </div>

                <div class="event-card">
                    <h2>Sample Event</h2>
                    <div>Tagline for the event.</div>
                    <div>Location at 1:00pm</div>
                    <div class="d-grid gap-2 my-2">
                        <button class="btn btn-primary" type="button">Add to Favourites</button>
                    </div>
                </div>

            }

        </div>


    </div>

    <div id="event-menu" class="d-flex flex-column justify-content-center align-items-center">

        <label for="search-bar" class="form-label"></label>
        <input type="email" class="" id="search-bar-sm" placeholder="Search here!">

        <div class="mt-3 w-100 btn btn-primary btn-block btn-lg ">Favorites</div>
        <Continue ClassName="mt-3 w-100 btn btn-primary btn-block btn-lg" />
    </div>

</div>


@code {

    // should be passed callbacks for adding to schedule & favorites respectively

    private List<BaseEvent>? availableEvents;

    protected override async Task OnInitializedAsync()
    {
        // get both kinds of events, concat arrays, then shuffle the combined array. 
        // need to dynamically render based on type

        var regularEvents = await Http.GetFromJsonAsync<Event[]>("sample-data/events.json");
        var scheduledEvents = await Http.GetFromJsonAsync<ScheduledEvent[]>("sample-data/scheduled-events.json");

        if (regularEvents != null && scheduledEvents != null)
        {
            List<BaseEvent> allEvents = new List<BaseEvent>().Concat(regularEvents).Concat(scheduledEvents).ToList();

            // shuffle the events and assign to member variable
            availableEvents = allEvents.OrderBy(a => Guid.NewGuid()).ToList();

        }

    }




    }

